<div class="project-section-inner-content">
  <div class="row overview">
    <div class="col-md-8 overview-content">
      <ul class="list-group list-group-striped" ng-if="currentScope">
        <li class="list-group-item list-group-heading">
          <h3>{{currentScope.title}} Utilizations</h3>
        </li>
        <li class="list-group-item">
          <div class="row">
            <div class="col-sm-12">
              <table class="table">
                <thead>
                <th ng-repeat="column in currentScope.columns track by $index">{{column.title}}</th>
                <th>Action</th>
                </thead>
                <tbody>
                <tr ng-repeat="utilization in utilizations track by $index">
                  <td ng-repeat="column in currentScope.columns track by $index">{{getValue(utilization[column.field])}}</td>
                  <td>
                    <span class="btn btn-danger" ng-if="utilization.status === '0'" ng-click="onAction(utilization, 'enable')">Disabled</span>
                    <span class="btn btn-info" ng-if="utilization.status === '1'" ng-click="onAction(utilization, 'disable')">Enabled</span>
                  </td>
                </tr>
                <tr ng-if="utilizations.length === 0">
                  <td>None</td>
                </tr>
                </tbody>
              </table>
            </div>
          </div>
        </li>
      </ul>
      <ul class="list-group list-group-striped">
        <li class="list-group-item list-group-heading">
          <h3>Recent Resources</h3>
        </li>
        <li class="list-group-item" ng-repeat="form in recentResources track by $index">
          <div class="row">
            <div class="col-sm-12">
              <strong><a ui-sref="project.{{form.type}}.form.edit({formId: form._id})">{{form.title}}</a></strong>
              <a ui-sref="project.{{form.type}}.form.edit({formId: form._id})" class="btn btn-default pull-right">Edit</a>
            </div>
          </div>
        </li>
        <li class="list-group-item text-center">
          <a ui-sref="project.form.index">More...</a>
        </li>
      </ul>
      <ul class="list-group list-group-striped">
        <li class="list-group-item list-group-heading">
          <h3>Recent Forms</h3>
        </li>
        <li class="list-group-item" ng-repeat="form in recentForms track by $index">
          <div class="row">
            <div class="col-sm-12">
              <strong><a ui-sref="project.{{form.type}}.form.edit({formId: form._id})">{{form.title}}</a></strong>
              <a ui-sref="project.{{form.type}}.form.edit({formId: form._id})" class="btn btn-default pull-right">Edit</a>
            </div>
          </div>
        </li>
        <li class="list-group-item text-center">
          <a ui-sref="project.form.index">More...</a>
        </li>
      </ul>
    </div>
    <div class="col-md-4">
      <ul class="list-group list-group-striped" ng-if="!onPremise">
        <li class="list-group-item list-group-heading">
          <div class="row">
            <div class="col-xs-6">
              <h3>Project Limits</h3>
            </div>
            <div class="col-xs-6">
              <div class="pull-right">
                <i class="fa fa-refresh" ng-click="reloadProject()"></i>
              </div>
            </div>
          </div>
        </li>
        <li class="list-group-item" ng-if="currentProject._id === localProject._id">
          <div ng-repeat="scope in scopes">
            <h4>{{scope.title}} <a href ng-if="scope.columns && (highestRole === 'team_admin' || highestRole === 'owner')" ng-click="setScope(scope)">manage</a></h4>
            <div class="progress">
              <div class="progress-bar" role="progressbar" ng-style="{width: getAPICallsPercent(currentProject.apiCalls, scope.prop)}" ng-class="getProgressBarClass(currentProject.apiCalls, scope.props)"></div>
              <span>{{ currentProject.apiCalls.used[scope.prop] | number }} / {{ getAPICallsLimit(currentProject.apiCalls.limit[scope.prop]) }} {{scope.monthly ? 'per month' : ''}}</span>
            </div>
          </div>
        </li>
        <li class="list-group-item" ng-if="currentProject._id !== localProject._id">
          <h4>Enterprise Edition (On Premise)</h4>
        </li>
      </ul>
      <ul class="list-group list-group-striped">
        <li class="list-group-item list-group-heading">
          <h3>Current Framework</h3>
        </li>
        <li class="list-group-item">
          <p><img src="{{currentFramework.img}}" alt="{{currentFramework.title}}" style="width: 50px;"> {{currentFramework.title}} <a ui-sref="project.settings" class="btn btn-default">Change</a></p>
          <a class="btn btn-primary" ui-sref="project.tour">View Walkthrough</a>
        </li>
      </ul>
      <ul class="list-group list-group-striped" ng-if="hasTeams()">
        <li class="list-group-item list-group-heading">
          <h3>Team Status</h3>
        </li>
        <li class="list-group-item">
          <div class="list-group">
            <a ui-sref="team.view({teamId: team._id})" class="list-group-item" ng-repeat="team in currentProjectTeams">
              <span class="badge"><i class="fa fa-users"></i>&nbsp;{{ team.data.members.length || 0 }}</span>
              <h4 class="list-group-item-heading">
                {{ team.data.name }}
                <small ng-if="team.permission === 'team_read'">Read-only</small>
                <small ng-if="team.permission === 'team_admin'">Admin</small>
              </h4>
              <span class="label label-success">{{ team.owner === user._id ? 'OWNER' : 'MEMBER'}}</span>
            </a>
          </div>
          <h4>
            <span ng-if="highestRole === 'owner'">You are the project <strong>owner</strong>.</span>
            <span ng-if="highestRole === 'team_admin'">You are a project <strong>admin</strong>.</span>
            <span ng-if="highestRole === 'team_write'">You are a project <strong>member</strong>.</span>
            <span ng-if="highestRole === 'team_read'">You are a <strong>read-only project member</strong>.</span>
            You can:
          </h4>
          <dl class="dl-horizontal">
            <dt ng-class="{'text-muted': !projectPermissions.read}">Read</dt>
            <dd><i class="fa" ng-class="{'text-success fa-check': projectPermissions.read, 'text-muted fa-times': !projectPermissions.read}"></i></dd>
            <dt ng-class="{'text-muted': !projectPermissions.write}">Write</dt>
            <dd><i class="fa" ng-class="{'text-success fa-check': projectPermissions.write, 'text-muted fa-times': !projectPermissions.write}"></i></dd>
            <dt ng-class="{'text-muted': !projectPermissions.admin}">Administrate</dt>
            <dd><i class="fa" ng-class="{'text-success fa-check': projectPermissions.admin, 'text-muted fa-times': !projectPermissions.admin}"></i></dd>
          </dl>
        </li>
      </ul>
      <div ng-if="!hasTeams()">
        <div class="well">
          <h4><a href="" ui-sref="project.billing({projectId: primaryProject._id})">Upgrade Plan</a> to enable teams for this project</h4>
        </div>
      </div>
    </div>
  </div>
  <!--<div class="row">-->
    <!--<div class="submission-activity">-->
      <!--<div class="col-md-12">-->
        <!--<h3>Submission Activity</h3>-->
      <!--</div>-->
      <!--<div class="project-data project-summary" ng-if="projectUrl" ng-controller="ChartController">-->
        <!--<div class="col-sm-12">-->
          <!--<h3 class="center">{{label[currentType]}}</h3>-->
          <!--<h4>{{viewDate.year}} / {{viewDate.month}} / {{viewDate.day}}&nbsp;(UTC)&emsp;<select ng-init="graphChange()" ng-options="type for type in types" ng-model="graphType" ng-change="graphChange()"></select></h4>-->
          <!--<chartist class="ct-chart" chartist-data="analytics" chartist-chart-type="Line" chartist-chart-options="analyticsOptions" chartist-events="analyticsEvents"></chartist>-->
        <!--</div>-->
      <!--</div>-->
    <!--</div>-->
  <!--</div>-->
</div>
