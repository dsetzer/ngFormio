<upgrade-warning ng-if="!minPlan('team')" warning="Upgrade your project to Team Pro or above to enable deploying to environments." />
<div>
  <h3>Deploy to {{ currentProject.title }}</h3>
  <div class="row">
    <div class="col-md-8">
      <h4>Version</h4>
      <div ng-if="versions.length">
        <p><select class="form-control" ng-model="deployVersionOption" ng-options="selectVersion as selectVersion.version for selectVersion in versions"></select></p>
        <span class="btn btn-primary" ng-click="deployVersion(deployVersionOption)">Deploy project definition version to {{ currentProject.title }}</span>
      </div>
      <div ng-if="!versions.length">
        <p>No versions exist. <a ui-sref="project.env.version.create">Create</a> a new version in the source environment before deploying.</p>
      </div>
    </div>
    <div class="col-md-4">
      <div class="panel panel-primary">
        <div class="panel-heading">
          <h3 class="panel-title">Deploying a project version</h3>
        </div>
        <div class="panel-body">
          <p>Deploying a version to an environment will replace all forms, resources, roles, actions and access settings with the ones in the project version.</p>
          <p>This is used for migrating a project from one environment to another. First create a new version from the source environment and then deploy it into the target environment. This allows for performing a <br />Dev -> Stage -> Prod deployment strategy.</p>
          <p>To deploy a version, select the version you would like to deploy and click the <strong>Deploy</strong> button.</p>
        </div>
      </div>
    </div>
  </div>
</div>
